---
title: "指令集"
date: 2023-10-30T15:36:11+08:00
draft: false
categories: ["计算机"]
tags: ["RISC", "精简指令集", "CISC", "复杂指令集", "x86", "x64", "ARM", "微架构",
"指令集", "RISC-V", "amd64"]
aliases: ["isa"]
---

# 概述

指令集架构，缩写为ISA，又称指令集或者指令集体系。

指令集架构包含一些列的操作码opcode，以及由特定处理器执行的基本命令。

# 微架构

指令集和微架构不同，微架构是一套用于执行指令集的微处理器设计方法。使用不同的微架构的处理器可以共享一种指令集。

---

# 分类

指令集分为精简指令集（RISC）和复杂指令集（CISC）。

## 精简指令集

只要求硬件执行很有限且最常用的那部分指令，大部分复杂的操作则使用成熟的编译技术，由简单指令合成。

RISC的目的就是通过精减机器指令系统来减少硬件设计的复杂程度，提高指令执行速度。

### 特点

* 采用精简的，长短划一的指令集

  * 指令数少，不超过128条。
  * 寻址方式少，不超过4种。
  * 指令格式少，不超过4种。
* 指令时钟周期，指令长度相等

  一个机器周期执行一条指令。
* 指令流水线

  将每条指令的执行分为几个离散部分，然后同时执行多条指令。
* 装入和存数(Load/Store)结构

  只有装入(Load)和存数(Store)指令才去访问内存，所有其它操作只访问保存在处理器寄存器中的操作数。
* 拥有较大寄存器组

  为了便于实现多数指令在寄存器之间的操作，必须有足够量的CPU通用寄存器。
* 采用硬连线控制

  指处理器内部控制逻辑使用固定的逻辑电路来执行指令操作的过程。

### 代表

* ARM
* RISC-V

## 复杂指令集

每个指令可执行若干低阶操作，诸如从存储器读取、储存、和计算操作，全部集于单一指令之中。

程序的各条指令是按顺序串行执行的，每条指令中的各个操作也是按顺序串行执行的。

### 特点

* 指令数目多而复杂
* 每条指令字长并不相等，电脑必须加以判读，并为此付出了性能的代价

### 代表

* System\/360
* x86
* x64（也叫x86-64、amd64）

---

## RISC和CISC对比

| 比较内容 | CISC | RISC |
| :--- | :--- | :--- |
| 指令系统 | 复杂，庞大  | 简单，精简 |
| 指令数目 | 一般大于200 | 一般小于100 |
| 指令格式 | 一般大于4 | 一般小于4 |
| 寻址方式 | 一般大于4 | 一般小于4                |
| 指令字长 | 不固定 | 等长                     |
| 可访存指令 | 不加限制 | 只有LOAD/STORE指令       |
| 各种指令使用频率 | 相差很大             | 相差不大                 |
| 各种指令执行时间 | 相差很大             | 绝大多数在一个周期内完成 |
| 优化编译实现     | 很难                 | 很容易                   |
| 程序源代码长度   | 较短                 | 较长                     |
| 控制器实现方式   | 绝大多数为微程序控制 | 绝大多数为硬布线控制     |
| 软件系统开发时间 | 较短                 | 较长                     |